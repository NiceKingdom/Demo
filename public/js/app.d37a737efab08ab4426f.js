webpackJsonp([1],{"/NLl":function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,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"},"8AnQ":function(t,e){},"D/Jc":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("6iV/"),i=s.n(n),a=s("+VlJ"),r=s("aozt"),o=s.n(r),c=s("3khs"),l=s.n(c),u=s("dLOM"),d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var p=s("C7Lr")({name:"App"},d,!1,function(t){s("/NLl")},null,null).exports,m=s("KGCO"),v=s("3cXf"),g=s.n(v),f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer-wrapper"},[this._v("\n    自由小岛开发组 "),e("br"),this._v("\n    © 2018 FreeIsland\n")])}]};var h=s("C7Lr")({name:"vfooter"},f,!1,function(t){s("S8Id")},"data-v-3fced232",null).exports,b={name:"Hello",components:{VFooter:h},data:function(){return{msg:"The king of the kingdom",loginForm:{email:"",password:""}}},methods:{loginOperate:function(){var t=this;if(!this.loginForm.email||!this.loginForm.password)return this.$swal({text:"账号或密码未输入",type:"warning"}),!1;this.axios.post("login",this.loginForm).then(function(e){t.$store.commit("setUser",e.data.user),localStorage.setItem("user",g()(e.data.user)),localStorage.setItem("resource",g()(e.data.resource)),localStorage.setItem("building",g()(e.data.building)),localStorage.setItem("heartBeat",Math.ceil(new Date/1e3).toString()),localStorage.setItem("isLogin","true"),window.location="/#/manor"}).catch(function(e){t.$swal({text:e.response.data?e.response.data:"服务器出错",type:"error"})})}},created:function(){this.checkLogin()&&(window.location="/#/manor")}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"login-wrapper"},[s("div",{staticClass:"form-box-wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"username-box"},[s("span",{staticClass:"tittle"},[t._v("用户名:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.email,expression:"loginForm.email"}],staticClass:"input",attrs:{type:"email"},domProps:{value:t.loginForm.email},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginOperate(e):null},input:function(e){e.target.composing||t.$set(t.loginForm,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"password-box"},[s("span",{staticClass:"tittle"},[t._v("密 码:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.loginForm.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loginOperate(e):null},input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"buttons-wrapper"},[s("button",{staticClass:"login-btn",on:{click:t.loginOperate}},[t._v("登 录")]),t._v(" "),s("button",{staticClass:"register-btn",on:{click:function(e){t.jump("register")}}},[t._v("注 册")])])])]),t._v(" "),s("VFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrapper"},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:"繁盛王国",width:"100%",height:"auto"}})])}]};var k=s("C7Lr")(b,w,!1,function(t){s("UFqH")},"data-v-5d2d8a8a",null).exports,C={name:"register",components:{VFooter:h},data:function(){return{signUpForm:{email:"",password:"",kingdom:"",nickname:""}}},methods:{registerOperate:function(){var t=this;if(!(this.signUpForm.email&&this.signUpForm.password&&this.signUpForm.kingdom&&this.signUpForm.nickname))return this.$swal({type:"warning",text:"请完整输入信息"}),!1;this.axios.post("register",this.signUpForm).then(function(e){console.info(e.data),t.$store.commit("setUser",e.user),localStorage.setItem("user",g()(e.data.user)),localStorage.setItem("resource",g()(e.data.resource)),localStorage.setItem("building",g()(e.data.building)),localStorage.setItem("heartBeat",Math.ceil(new Date/1e3).toString()),localStorage.setItem("isLogin","true"),window.location="/#/manor"}).catch(function(e){t.$swal({type:"error",text:e.response.data?e.response.data:"服务器出错"})})}},created:function(){this.checkLogin()&&(window.location="/#/manor")}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"register-wrapper"},[s("div",{staticClass:"form-box-wrapper"},[t._m(0),t._v(" "),s("div",{staticClass:"username-box"},[s("span",{staticClass:"tittle"},[t._v("邮 箱:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpForm.email,expression:"signUpForm.email"}],staticClass:"input",attrs:{type:"email"},domProps:{value:t.signUpForm.email},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.registerOperate(e):null},input:function(e){e.target.composing||t.$set(t.signUpForm,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"password-box"},[s("span",{staticClass:"tittle"},[t._v("密 码:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpForm.password,expression:"signUpForm.password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.signUpForm.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.registerOperate(e):null},input:function(e){e.target.composing||t.$set(t.signUpForm,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"kingdom-box"},[s("span",{staticClass:"tittle"},[t._v("王 国:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpForm.kingdom,expression:"signUpForm.kingdom"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.signUpForm.kingdom},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.registerOperate(e):null},input:function(e){e.target.composing||t.$set(t.signUpForm,"kingdom",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"lord-box"},[s("span",{staticClass:"tittle"},[t._v("昵 称:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signUpForm.nickname,expression:"signUpForm.nickname"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.signUpForm.nickname},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.registerOperate(e):null},input:function(e){e.target.composing||t.$set(t.signUpForm,"nickname",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"buttons-wrapper"},[s("button",{staticClass:"register-btn",on:{click:t.registerOperate}},[t._v("注 册")]),t._v(" "),s("button",{staticClass:"login-btn",on:{click:function(e){t.jump("/")}}},[t._v("登 录")])])])]),t._v(" "),s("VFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrapper"},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:"繁盛王国",width:"100%",height:"auto"}})])}]};var y=s("C7Lr")(C,_,!1,function(t){s("fTKl")},"data-v-753d58de",null).exports,x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-block"},[s("div",{staticClass:"flex-row"},t._l(t.resource,function(e){return s("span",{key:e.name,staticClass:"flex-item"},[s("b",{staticStyle:{color:"#000"}},[t._v(t._s(e.name))]),t._v("：\n              "),s("span",{staticStyle:{color:"#636363"}},[t._v(t._s(e.value))]),t._v("\n              ("),s("span",{staticClass:"b"},[t._v(t._s(e.output))]),t._v(")\n          ")])}),0)])},staticRenderFns:[]};var I=s("C7Lr")({name:"ResourceBar",computed:{resource:function(){return this.$store.state.resource}},mounted:function(){this.$store.dispatch("update",1e3)}},x,!1,function(t){s("cvcP")},"data-v-40971a43",null).exports,E={name:"BuildingList",props:{building:{type:Object,require:!0}},methods:{build:function(){this.$emit("build",{level:this.building.level})},destroy:function(){this.$emit("destroy",{level:this.building.level})}},computed:{trans:function(){return this.$store.state.resourceTrans}}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v(t._s(t.building.name))]),t._v(" "),s("td",[t._v(t._s(t.building.number))]),t._v(" "),s("td",[t._v(t._s(t.building.time))]),t._v(" "),s("td",[t._v(t._s(t.building.level))]),t._v(" "),s("td",t._l(t.building.occupy,function(e,n){return s("span",{key:n},[t._v(t._s(t.trans[n])+": "+t._s(e))])}),0),t._v(" "),s("td",t._l(t.building.material,function(e,n){return s("span",{key:n},[t._v(t._s(t.trans[n])+": "+t._s(e))])}),0),t._v(" "),s("td",t._l(t.building.product,function(e,n){return s("span",{key:n},[t._v(t._s(t.trans[n])+": "+t._s(e))])}),0),t._v(" "),s("td",[s("input",{attrs:{type:"button",name:"build",value:"建造"},on:{click:t.build}}),t._v(" "),s("input",{attrs:{type:"button",name:"destroy",value:"拆除"},on:{click:t.destroy}})])])},staticRenderFns:[]};var S=s("C7Lr")(E,F,!1,function(t){s("D/Jc")},"data-v-36981f5d",null).exports,T={name:"VProgress",data:function(){return{progressBar:0}},props:{process:{type:Object,require:!0}},computed:{},methods:{save:function(){this.$emit("saveProgress",this.process.id)}},created:function(){var t=this;function e(){var e=t.nowTime();if(console.info(e),t.process.action)if(t.process.endTime>e){var s=t.process.endTime-t.process.startTime,n=t.process.endTime-e;t.process.percent=1-n/s,t.process.percent>0?t.progressBar=100*t.process.percent:t.progressBar=0}else t.save(),t.process.action=0,t.process.percent=0,t.progressBar=0}e(),setInterval(e,1e3)}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"progress"},[s("span",{staticClass:"progress-name"},[s("small",[t._v(t._s(t.process.name))]),t._v(" - ")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.process.percent,expression:"!process.percent"}]},[t._v("空闲")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.process.percent,expression:"process.percent"}],staticClass:"allbar"},[s("div",{staticClass:"bar",style:{width:t.progressBar+"px"}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.process.percent,expression:"process.percent"}],staticClass:"bar-value"},[t._v(t._s(Math.ceil(t.progressBar))+"%")])])},staticRenderFns:[]};var U=s("C7Lr")(T,L,!1,function(t){s("xkyK")},"data-v-55b02567",null).exports,O={name:"manor",data:function(){return{activeType:"farm",actionNumber:23}},components:{VResourceBar:I,VFooter:h,VProgress:U,VBuildingList:S},methods:{toggle:function(){var t=this;this.axios.post("login",this.loginForm).then(function(e){console.info(e.data),t.$store.commit("setUser",e.data.user),localStorage.setItem("user",g()(e.data.user)),localStorage.setItem("resource",g()(e.data.resource)),localStorage.setItem("building",g()(e.data.building)),window.location="/#/manor"}).catch(function(e){t.$swal({text:e.response.data?e.response.data:"服务器出错",type:"error"})})}},computed:{nickname:function(){return this.$store.state.nickname},kingdom:function(){return this.$store.state.kingdom},capitalX:function(){return this.$store.state.capitalX},capitalY:function(){return this.$store.state.capitalY},resource:function(){return this.$store.state.resource}},created:function(){console.info(this.checkLogin()),this.checkLogin()||(window.location="/#/");var t=JSON.parse(localStorage.getItem("user"));this.$store.commit("setUser",t)}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"manor-wrapper"},[s("div",{staticClass:"manor-header"},[t._m(0),t._v(" "),s("div",{staticClass:"manor-name",on:{click:function(e){t.jump("manor")}}},[t._v(t._s(t.kingdom))])]),t._v(" "),s("div",{staticClass:"manor-main-wrapper"},[s("div",{staticClass:"info-wrapper"},[s("div",{staticClass:"row"},[t._v("王国："+t._s(t.kingdom))]),t._v(" "),s("div",{staticClass:"row"},[t._v("领主："+t._s(t.nickname))]),t._v(" "),s("div",{staticClass:"row"},[t._v("坐标：("+t._s(t.capitalX)+", "+t._s(t.capitalY)+")")])]),t._v(" "),s("div",{staticClass:"links-wrapper"},[s("button",{staticClass:"link",on:{click:function(e){t.jump("building")}}},[t._v("建筑")]),t._v(" "),s("button",{staticClass:"link",on:{click:function(e){t.jump("plat")}}},[t._v("地图")]),t._v(" "),s("button",{staticClass:"link",on:{click:function(e){t.jump("#")}}},[t._v("军事")])])])]),t._v(" "),s("VFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrapper"},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}})])}]};var V=s("C7Lr")(O,R,!1,function(t){s("8AnQ")},"data-v-069d4e5a",null).exports,B={name:"building",data:function(){return{activeType:"farm",actionNumber:1}},components:{VResourceBar:I,VFooter:h,VProgress:U,VBuildingList:S},methods:{toggle:function(t){this.activeType=t},build:function(t){var e=this;if(this.actionNumber<1)return this.$swal({text:"奇迹般的建造数量，您确认没有错吗？",type:"error"}),!1;t.type=this.activeType,t.number=this.actionNumber,t&&(this.axios.post("building/build",t).then(function(t){var s="success";"failed"===t.data[0]&&(s="error"),e.$swal({text:t.data[1],type:s})}).catch(function(t){e.$swal({text:t.response.data?t.response.data:"服务器出错",type:"error"})}),this.axios.get("user/get-resource").then(function(t){console.info(t),localStorage.setItem("resource",g()(t.data)),e.$store.commit("setResource",t.data)}).catch(function(t){e.$swal({text:t.response.data?t.response.data:"服务器出错",type:"error"})}),this.axios.get("building/list").then(function(t){localStorage.setItem("building",g()(t.data.building)),localStorage.setItem("buildingList",g()(t.data.list)),e.$store.commit("setBuildingList",t.data)}).catch(function(t){e.$swal({text:t.response.data?t.response.data:"服务器出错",type:"error"})}),this.axios.get("building/schedule").then(function(t){e.$store.commit("setSchedules",t.data)}).catch(function(t){e.$swal({text:t.response.data?t.response.data:"服务器出错",type:"error"})}))},destroy:function(t){if(this.actionNumber<1)return this.$swal({text:"奇迹般的拆除数量，您确认没有错吗？",type:"error"}),!1;t.type=this.activeType,t.number=this.actionNumber,console.info(t)},saveProgress:function(){},typeTrans:function(t){return{farm:"农场",sawmill:"伐木"}[t]}},computed:{nickname:function(){return this.$store.state.nickname},kingdom:function(){return this.$store.state.kingdom},capitalX:function(){return this.$store.state.capitalX},capitalY:function(){return this.$store.state.capitalY},resource:function(){return this.$store.state.resource},schedules:function(){return this.$store.state.schedules},buildingList:function(){return this.$store.state.buildingList},buildType:function(){var t=[];for(var e in this.buildingList)t.push(e);return t}},created:function(){var t=this;this.checkLogin()||(window.location="/#/");var e=JSON.parse(localStorage.getItem("user"));this.$store.commit("setUser",e),this.axios.get("building/list").then(function(e){localStorage.setItem("building",g()(e.data.building)),localStorage.setItem("buildingList",g()(e.data.list)),t.$store.commit("setBuildingList",e.data)}).catch(function(e){t.$swal({text:e.response.data?e.response.data:"服务器出错",type:"error"})}),this.axios.get("building/schedule").then(function(e){console.info(e.data),t.$store.commit("setSchedules",e.data)}).catch(function(e){t.$swal({text:e.response.data?e.response.data:"服务器出错",type:"error"})}),this.$store.commit("setResource",JSON.parse(localStorage.getItem("resource")))}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"building-wrapper"},[s("div",{staticClass:"building-header"},[t._m(0),t._v(" "),s("div",{staticClass:"resource-wrapper"},[s("VResourceBar")],1),t._v(" "),s("div",{staticClass:"building-name",on:{click:function(e){t.jump("manor")}}},[t._v(t._s(t.kingdom))])]),t._v(" "),s("div",{staticClass:"building-main-wrapper"},[s("div",{staticClass:"info-wrapper"},[s("div",{staticClass:"left"},t._l(t.schedules,function(t){return s("VProgress",{key:t.id,attrs:{process:t}})}),1),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"building"},[s("p",[s("span",[t._v("建筑清单：")]),t._v(" "),t._l(t.buildType,function(e){return s("span",{key:e,staticStyle:{padding:"2px",margin:"2px",color:"#636363",border:"1px solid black"},on:{click:function(s){t.toggle(e)}}},[t._v(t._s(t.typeTrans(e)))])})],2),t._v(" "),s("label",{attrs:{for:"number"}},[t._v("数量")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.actionNumber,expression:"actionNumber"}],staticClass:"btn-number",attrs:{type:"number",id:"number"},domProps:{value:t.actionNumber},on:{input:function(e){e.target.composing||(t.actionNumber=e.target.value)}}}),t._v(" "),s("table",[t._m(1),t._v(" "),t._l(t.buildingList[t.activeType],function(e){return s("VBuildingList",{key:e.name,attrs:{building:e},on:{build:t.build,destroy:t.destroy}})})],2)])])]),t._v(" "),s("div",{staticClass:"links-wrapper"},[s("button",{staticClass:"link",on:{click:function(e){t.jump("building")}}},[t._v("建筑")]),t._v(" "),s("button",{staticClass:"link",on:{click:function(e){t.jump("plat")}}},[t._v("地图")]),t._v(" "),s("button",{staticClass:"link",on:{click:function(e){t.jump("#")}}},[t._v("军事")]),t._v(" "),s("button",{staticClass:"link",on:{click:function(e){t.click()}}},[t._v("测试")])])])]),t._v(" "),s("VFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-wrapper"},[e("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{attrs:{width:"120"}},[t._v("名称")]),t._v(" "),s("th",[t._v("拥有")]),t._v(" "),s("th",[t._v("时间")]),t._v(" "),s("th",[t._v("等级")]),t._v(" "),s("th",[t._v("占用")]),t._v(" "),s("th",[t._v("成本")]),t._v(" "),s("th",[t._v("产出")]),t._v(" "),s("th",[t._v("操作")])])}]};var Y=s("C7Lr")(B,A,!1,function(t){s("VJk2")},"data-v-dc7a5734",null).exports,P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}}),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"test"},[t._v("- - - - Example - - - -")]),t._v(" "),t._m(0),t._v(" "),n("hr"),t._v(" "),n("button",{on:{click:t.test}},[t._v("点我改变长度")]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"loader-container",style:t.styleObject})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"all-father"},[e("div",{staticClass:"item-2"},[this._v("2-cell")]),this._v(" "),e("div",{staticClass:"item-5"},[this._v("5-cell")]),this._v(" "),e("div",{staticClass:"item-12"},[this._v("12-cell")]),this._v(" "),e("div",{staticClass:"item-24"},[this._v("24-cell")])])}]};var H=s("C7Lr")({name:"plat",data:function(){return{styleObject:{width:"89%"}}},methods:{test:function(){this.styleObject.width="12%"}}},P,!1,function(t){s("P5c6"),s("bLVC")},"data-v-0f0e03b0",null).exports;a.a.use(m.a);var N=new m.a({routes:[{path:"/",name:"Hello",component:k},{path:"/manor",name:"Manor",component:V},{path:"/register",name:"Register",component:y},{path:"/building",name:"Building",component:Y},{path:"/plat",name:"Plat",component:H}]}),J=s("ZLEe"),W=s.n(J),X=s("9rMa");a.a.use(X.a);var j=new X.a.Store({state:{loginName:"",nickname:"",kingdom:"",capitalX:"",capitalY:"",resource:{people:0,food:0,wood:0,stone:0,money:0,area:0},buildingList:{},schedules:{},resourceTrans:{people:"人口",food:"食物",wood:"木材",stone:"石材",money:"金钱",area:"面积"}},getters:{doneTodos:function(t){return t.todos.filter(function(t){return t.done})},getTodoById:function(t){return function(e){return t.todos.find(function(t){return t.id===e})}}},mutations:{setUpdate:function(t){["people","food","wood","stone","money","area"].forEach(function(e){var s=t.resource,n=s[e].output/3600;s[e].value+=Math.floor(n),s[e].oddment+=n-Math.floor(n),s.people.oddment>1&&(t.resource[e].value++,t.resource[e].oddment--)})},setUser:function(t,e){t.loginName=e.nickname,t.nickname=e.nickname,t.kingdom=e.kingdom;var s=e.capital.split(",");t.capitalX=s[0],t.capitalY=s[1]},setSchedules:function(t,e){t.schedules=e;for(var s=0;s<e.length;s++)t.schedules[s].percent=0},setBuildingList:function(t,e){for(var s=W()(e.building),n=["farm","sawmill"],i=0;i<s.length;i++)for(var a=0;a<n.length;a++)if(-1!==s[i].indexOf(n[a])){var r=Number(s[i].slice(-2))-1;e.list[n[a]][r].number=e.building[s[i]]}t.buildingList=e.list},setResource:function(t,e){for(var s=[{key:"people",name:"人口"},{key:"food",name:"食物"},{key:"wood",name:"木材"},{key:"stone",name:"石材"},{key:"money",name:"金钱"},{key:"area",name:"面积"}],n=0;n<s.length;n++)t.resource[s[n].key]={name:s[n].name,value:e[s[n].key],oddment:e[s[n].key+"Chip"],output:e[s[n].key+"Output"]}}},actions:{update:function(t,e){setInterval(function(){t.commit("setUpdate")},e)}}});a.a.use(u.a),a.a.use(l.a,o.a.create({baseURL:"http://www.nice-kingdom.com",withCredentials:!0,transformRequest:[function(t){return i.a.stringify(t)}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})),a.a.mixin({methods:{jump:function(t){this.$router.push(t)},nowTime:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=localStorage.getItem("timeGap");return s&&!e||this.axios.get("index").then(function(t){s=t.data.time-Math.ceil(new Date/1e3),localStorage.setItem("timeGap",s),t.data.isLogin&&localStorage.getItem("user")?(localStorage.setItem("isLogin","true"),localStorage.setItem("heartBeat",t.data.time.toString())):(localStorage.setItem("isLogin","false"),localStorage.removeItem("heartBeat"))}).catch(function(e){t.$swal({text:e.response&&e.response.data?e.response:"检查登录状态失败",type:"error"})}),Math.ceil(new Date/1e3)+Number(s)},checkLogin:function(){var t=localStorage.getItem("heartBeat");return(!t||t<this.nowTime()-600)&&this.nowTime(!0),"true"===localStorage.getItem("isLogin")}}}),a.a.config.productionTip=!1,new a.a({el:"#app",router:N,store:j,components:{App:p},template:"<App/>"})},P5c6:function(t,e){},S8Id:function(t,e){},UFqH:function(t,e){},VJk2:function(t,e){},bLVC:function(t,e){},cvcP:function(t,e){},eqHL:function(t,e){},fTKl:function(t,e){},xkyK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d37a737efab08ab4426f.js.map